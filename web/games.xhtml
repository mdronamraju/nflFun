<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>

</h:head>

<h:body>
    <ui:include src="header.xhtml"/>

    <div id="ui-fluid" class="ui-fluid">

        <p:panel id="instructions" header="Instructions">
            <h:panelGrid id="panelGrid" columns="1" cellpadding="10">
                <h:outputLabel>
                    Total 16 games
                </h:outputLabel>
                <h:outputLabel>
                    Pool: Top 3 who select highest number of winning teams and who's total score of the 2 teams equals or very close to the actual score will be the winners (50%, 30%, 20%).
                </h:outputLabel>
                <h:outputLabel>
                    Other conditions...
                </h:outputLabel>
            </h:panelGrid>
        </p:panel>

        <br></br>

        <p:panel id="welcome" header="Welcome #{userLoginView.user.firstName} #{userLoginView.user.lastName}" style="width: 85%">

                <h:form id="gamesForm">
                    <p:commandButton
                            style="width: 300px;"
                            value="Save Scores"
                            actionListener="#{gamesView.saveScores}" />

                    <fmt:parseNumber var="i" integerOnly="true" type="number" value="0" />
                    <h:panelGrid columns="9" cellspacing="2" cellpadding="10" style="border-width: 1px;">

                        <c:forEach items="#{userLoginView.gamesList}" var="document">
                            <c:set var="i" value="#{i+1}" />
                            <c:set var="teamAName_counter" value="teamAName_#{i}" />
                            <c:set var="teamBName_counter" value="teamBName_#{i}" />
                            <c:set var="date_counter" value="date_#{i}" />
                            <c:set var="time_counter" value="time_#{i}" />
                            <c:set var="location_counter" value="location_#{i}" />
                            <c:set var="teamAScore_counter" value="teamAScore_#{i}" />
                            <c:set var="teamBScore_counter" value="teamBScore_#{i}" />
                            <c:set var="winningTeam_counter" value="winningTeam_#{i}" />
                            <c:set var="teamsTotalScore_counter" value="teamsTotalScore_#{i}" />

                            <h:inputText id="#{date_counter}" value="#{document.get(date_counter)}" size="10"/>
                            <h:inputText id="#{time_counter}" value="#{document.get(time_counter)}" size="8"/>

                            <h:inputText id="#{location_counter}" value="#{document.get(location_counter)}" size="10"/>

                            <h:inputText id="#{teamAName_counter}" value="#{document.get(teamAName_counter)}" size="10"/>
                            <p:inputText id="#{teamAScore_counter}" value="#{document.get(teamAScore_counter)}" size="3" maxlength="3"/>

                            <p:selectOneRadio id="#{winningTeam_counter}" value="#{document.get(winningTeam_counter)}">
                                <f:selectItem itemValue="#{document.get(teamAName_counter)}"/>
                                <f:selectItem itemValue="#{document.get(teamBName_counter)}"/>
                            </p:selectOneRadio>

                            <p:inputText id="#{teamBScore_counter}" value="#{document.get(teamBScore_counter)}" size="3" maxlength="3"/>
                            <h:inputText id="#{teamBName_counter}" value="#{document.get(teamBName_counter)}" size="10"/>

                            <h:inputText id="#{teamsTotalScore_counter}" value="#{document.get(teamsTotalScore_counter)}" size="3"/>

                        </c:forEach>

                    </h:panelGrid>

                    <p:commandButton
                            style="width: 300px;"
                            value="Save Scores"
                            actionListener="#{gamesView.saveScores}" />

                </h:form>

        </p:panel>

    </div>
</h:body>
</html>